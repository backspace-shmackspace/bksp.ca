---
// PostCard.astro - Blog post card with lane badge and hover effects
import LaneBadge from './LaneBadge.astro';

interface Props {
  title: string;
  slug: string;
  date: Date;
  lane: 'offense' | 'defense' | 'build';
  description: string;
  readingTime: number;
}

const { title, slug, date, lane, description, readingTime } = Astro.props;

// Format date as "MMM DD, YYYY"
const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric'
});
---

<a
  href={`/posts/${slug}`}
  class="block bg-[#111827] border border-[#1e293b] rounded-xl p-6 hover:border-[#334155] hover:-translate-y-1 transition-all duration-200 group"
>
  <!-- Lane Badge -->
  <LaneBadge lane={lane} />

  <!-- Title -->
  <h3 class="text-lg font-semibold text-[#f1f5f9] mt-3 group-hover:text-white transition-colors duration-200">
    {title}
  </h3>

  <!-- Description -->
  <p class="text-sm text-[#94a3b8] mt-2 line-clamp-3">
    {description}
  </p>

  <!-- Metadata -->
  <div class="flex items-center justify-between mt-4 pt-4 border-t border-[#1e293b]">
    <span class="text-xs text-[#64748b]">
      {formattedDate}
    </span>
    <span class="text-xs text-[#64748b] flex items-center gap-1.5">
      {readingTime} min read
      <svg class="w-3 h-3 group-hover:translate-x-0.5 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </span>
  </div>
</a>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
