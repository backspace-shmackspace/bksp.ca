---
// BaseLayout.astro - Base HTML layout for all pages
import '@fontsource/inter';
import '@fontsource/jetbrains-mono';
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import OpenGraph from '../components/OpenGraph.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const pageTitle = `${title} | bksp_`;
const pageDescription = description || 'Undoing what shouldn\'t have shipped';
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{pageTitle}</title>
    <OpenGraph title={pageTitle} description={pageDescription} />
  </head>
  <body class="bg-[#0a0f1a] text-[#f1f5f9] font-sans antialiased">
    <Header />
    <main class="max-w-4xl mx-auto px-6 py-12">
      <slot />
    </main>
    <Footer />
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({
        startOnLoad: true,
        theme: 'dark',
        themeVariables: {
          darkMode: true,
          background: '#0a0f1a',
          primaryColor: '#3b82f6',
          primaryTextColor: '#f1f5f9',
          primaryBorderColor: '#475569',
          lineColor: '#64748b',
          secondaryColor: '#1e293b',
          tertiaryColor: '#334155',
        }
      });
    </script>
  </body>
</html>
