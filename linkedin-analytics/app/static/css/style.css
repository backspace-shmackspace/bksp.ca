/*
 * style.css — Custom overrides applied on top of Tailwind CSS CDN.
 *
 * Scope: properties that Tailwind CDN cannot express with utility classes alone,
 * or that require vendor prefixes and custom scroll styling.
 */

/* -------------------------------------------------------------------------
 * Root variables (mirrors Tailwind theme config in base.html)
 * ---------------------------------------------------------------------- */

:root {
  --color-navy:   #0a0f1a;
  --color-card:   #111827;
  --color-accent: #3b82f6;
  --color-text:   #f1f5f9;
  --color-muted:  #94a3b8;
  --color-dim:    #64748b;
}

/* -------------------------------------------------------------------------
 * Scrollbar styling (webkit only — Firefox uses scrollbar-color)
 * ---------------------------------------------------------------------- */

* {
  scrollbar-width: thin;
  scrollbar-color: #1e293b transparent;
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: #1e293b;
  border-radius: 3px;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: #334155;
}

/* -------------------------------------------------------------------------
 * Typography
 * ---------------------------------------------------------------------- */

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code,
.font-mono {
  font-variant-numeric: tabular-nums;
}

/* -------------------------------------------------------------------------
 * Line clamp utilities (for post title truncation)
 * ---------------------------------------------------------------------- */

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* -------------------------------------------------------------------------
 * Chart.js canvas — prevent overflow in fixed-height containers
 * ---------------------------------------------------------------------- */

canvas {
  display: block;
  max-width: 100%;
}

/* -------------------------------------------------------------------------
 * Drop zone active state (complements upload.js)
 * ---------------------------------------------------------------------- */

#drop-zone {
  transition: border-color 150ms ease, background-color 150ms ease;
}

/* -------------------------------------------------------------------------
 * Table row hover — extra subtle, below Tailwind's hover:bg-white/2
 * (Tailwind CDN supports arbitrary values; keeping this for clarity)
 * ---------------------------------------------------------------------- */

tbody tr:hover {
  background-color: rgba(255, 255, 255, 0.015);
}

/* -------------------------------------------------------------------------
 * Sidebar nav active indicator: left border accent
 * ---------------------------------------------------------------------- */

nav a.text-accent {
  position: relative;
}

nav a.text-accent::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 60%;
  background-color: var(--color-accent);
  border-radius: 0 2px 2px 0;
}

/* -------------------------------------------------------------------------
 * KPI card hover lift
 * ---------------------------------------------------------------------- */

.bg-card {
  transition: box-shadow 150ms ease, transform 150ms ease;
}

.bg-card:hover {
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.08),
              0 4px 16px rgba(0, 0, 0, 0.3);
}

/* -------------------------------------------------------------------------
 * Sticky header backdrop blur fallback
 * ---------------------------------------------------------------------- */

@supports not (backdrop-filter: blur(8px)) {
  header.backdrop-blur {
    background-color: #0a0f1a;
  }
}
